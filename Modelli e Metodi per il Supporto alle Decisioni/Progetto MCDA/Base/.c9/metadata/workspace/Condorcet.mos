{"changed":false,"filter":false,"title":"Condorcet.mos","tooltip":"/Condorcet.mos","value":"model \"Calcolo della Relazione di Condorcet\"\r\nuses \"mmxprs\";\r\n!=============================================================================\r\n! Riceve in ingresso una matrice MCDA (con le sue dimensioni) e un vettore che\r\n! fornisce peso e direzione dei criteri: il peso dei criteri di minimizzazione\r\n! viene moltiplicato per -1.\r\n! Stampa una matrice M che descrive i risultati dei confronti a coppie operati\r\n! dal metodo di Condorcet (adattato alla MCDA):\r\n! (*) M(i,j)=1 se i batte j\r\n! (*) M(i,j)=0 se j batte i\r\n! (*) M(i,j)=2 se i e j sono alla pari\r\n! (*) M(i,i)=2 su assume che i sia alla pari con se stessa\r\n!=============================================================================\r\n! Revisione 17/9/24 (eseguibile su Workbench)\r\n!=============================================================================\r\n\r\n!=============================================================================\r\n! procedure \"forward\"\r\nforward procedure Condorcet\r\nforward procedure PrintMatrix(M:array(range,range) of integer, title: string, r: integer, c: integer)\r\n!=============================================================================\r\n! Dichiarazioni globali e lettura del file di input\r\n!=============================================================================\r\ndeclarations\r\n\tfile: string\r\n\tn: integer      ! numero di alternative\r\n\tm: integer      ! numero di criteri\r\nend-declarations\r\n\r\n! lettura da terminale del nome del file; il formato DEVE essere ASCII\r\nwriteln\r\nwriteln(\"Fornire il nome del file (senza suffisso .txt)\")\r\nread(file)\r\nfile := 'MCDA.txt'\r\nwriteln\r\n\r\ninitializations from file\r\n n   !numero di righe\r\n m   !numero di criteri\r\nend-initializations\r\n\r\ndeclarations\r\n! input\r\nMCMatrix: array(1..n,1..m) of real    ! matrice MCDA\r\nWeight: array(1..m) of real           ! pesi\r\n! output\r\nC: array(1..n,1..n) of integer        ! relazione binaria di Condorcet\r\nend-declarations\r\n\r\ninitializations from file\r\n MCMatrix\r\n Weight\r\nend-initializations\r\n\r\n!=============================================================================\r\n! INIZIO MAIN\r\n!=============================================================================\r\n\r\nCondorcet\r\nPrintMatrix(C,\"Relazione di Condorcet\", n, n)\r\n\r\n!===============================================================\r\n! FINE \"MAIN\"\r\n!===============================================================\r\n\r\n!---------------------------------------------------------------\r\n! Metodo di Condorcet\r\n!---------------------------------------------------------------\r\nprocedure Condorcet\r\n    forall (i in 1..n-1) do\r\n     forall (j in i+1..n) do\r\n      cont := 0.0;\r\n      forall(h in 1..m) do\r\n      if(MCMatrix(i,h) > MCMatrix(j,h))  then\r\n           cont += Weight(h);\r\n           else if (MCMatrix(i,h) < MCMatrix(j,h))  then\r\n                    cont -= Weight(h);\r\n                end-if\r\n           end-if\r\n      end-do   ! forall(h in 1..m)\r\n      if (cont > 0) then\r\n        C(i,j):=1;\r\n        C(j,i):=0;\r\n      else if(cont < 0) then\r\n        \tC(j,i):=1;\r\n        \tC(i,j):=0;\r\n           else\r\n        \tC(j,i):=2;\r\n        \tC(i,j):=2;\r\n           end-if\r\n      end-if\r\n     end-do   ! forall (j in i+1..n)\r\n    end-do   ! forall (i in 1..n-1)\r\n    forall (i in 1..n) C(i,i) := 2  ! fill diagonal\r\nend-procedure ! Condorcet\r\n\r\n!---------------------------------------------------------------\r\n! Stampa matrice generica\r\n!---------------------------------------------------------------\r\nprocedure PrintMatrix(M: array(range,range) of integer, title: string, r: integer, c: integer)\r\n\twriteln(title)\r\n\twrite(\"\\t\")\r\n\tforall(i in 1..c) do\r\n\t\twrite(strfmt(i,8) )\r\n\tend-do\r\n\twriteln\r\n\tforall(i in 1..(8+c*8)) do\r\n\t\twrite(\"-\")\r\n\tend-do\r\n\twriteln\r\n\tforall (i in 1..r) do\r\n\t\twrite(i,\")\\t\")\r\n\t\tforall(j in 1..c) do\r\n\t\t\twrite(strfmt(M(i,j),8))\r\n\t\tend-do\r\n\t\twriteln\r\n\tend-do\r\n\twriteln\r\nend-procedure\r\n\r\nend-model\r\n\r\n\r\n\r\n\r\n\r\n\r\n","undoManager":{"mark":-1,"position":-1,"stack":[]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":0,"column":0},"end":{"row":0,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1729452100141}